(function(){var d=function(t){this.options=st(d.defaults,t),this.element=this.options.element,this.listWrapper=this.element.getElementsByClassName("carousel__wrapper")[0],this.list=this.element.getElementsByClassName("carousel__list")[0],this.items=this.element.getElementsByClassName("carousel__item"),this.initItems=[],this.itemsNb=this.items.length,this.visibItemsNb=1,this.itemsWidth=1,this.itemOriginalWidth=!1,this.selectedItem=0,this.translateContainer=0,this.containerWidth=0,this.ariaLive=!1,this.controls=this.element.getElementsByClassName("js-carousel__control"),this.animating=!1,this.autoplayId=!1,this.autoplayPaused=!1,this.dragStart=!1,this.resizeId=!1,this.cloneList=[],this.itemAutoSize=!1,this.totTranslate=0,this.options.nav&&(this.options.loop=!1),this.counter=this.element.getElementsByClassName("js-carousel__counter"),this.counterTor=this.element.getElementsByClassName("js-carousel__counter-tot"),x(this),_(this,!0),C(this,this.visibItemsNb),W(this),A(this),J(this),q(this),tt(this),this.element.classList.add("carousel--loaded")};d.prototype.showNext=function(){h(this)},d.prototype.showPrev=function(){y(this)},d.prototype.startAutoplay=function(){g(this)},d.prototype.pauseAutoplay=function(){v(this)};function x(t){var e=window.getComputedStyle(t.items[0]),i=window.getComputedStyle(t.listWrapper),n=parseFloat(e.getPropertyValue("width")),s=parseFloat(e.getPropertyValue("margin-right")),a=parseFloat(i.getPropertyValue("padding-left")),r=parseFloat(i.getPropertyValue("width"));t.itemAutoSize||(t.itemAutoSize=n),r=K(t,r),t.itemOriginalWidth?n=t.itemOriginalWidth:t.itemOriginalWidth=n,t.itemAutoSize&&(t.itemOriginalWidth=parseInt(t.itemAutoSize),n=t.itemOriginalWidth),r<n&&(t.itemOriginalWidth=r,n=t.itemOriginalWidth),t.visibItemsNb=parseInt((r-2*a+s)/(n+s)),t.itemsWidth=parseFloat(((r-2*a+s)/t.visibItemsNb-s).toFixed(1)),t.containerWidth=(t.itemsWidth+s)*t.items.length,t.translateContainer=0-(t.itemsWidth+s)*t.visibItemsNb,at||(t.list.style.width=(t.itemsWidth+s)*t.visibItemsNb*3+"px"),t.totTranslate=0-t.selectedItem*(t.itemsWidth+s),t.items.length<=t.visibItemsNb&&(t.totTranslate=0),F(t),H(t)}function _(t,e){for(var i=0;i<t.items.length;i++)t.items[i].style.width=t.itemsWidth+"px",e&&t.initItems.push(t.items[i])}function W(t){t.options.loop&&(t.items.length<t.visibItemsNb*3?u(t,t.visibItemsNb*3-t.items.length,t.items.length-t.visibItemsNb*2):t.items.length>t.visibItemsNb*3&&N(t,t.visibItemsNb*3,t.items.length-t.visibItemsNb*3),p(t,"translateX("+t.translateContainer+"px)"))}function q(t){t.options.nav&&(D(t),V(t)),t.controls.length>0&&(t.controls[0].addEventListener("click",function(e){e.preventDefault(),y(t),P(t)}),t.controls[1].addEventListener("click",function(e){e.preventDefault(),h(t),P(t)}),w(t),E(t)),t.options.autoplay&&(g(t),t.options.autoplayOnHover||(t.element.addEventListener("mouseenter",function(e){v(t),t.autoplayPaused=!0}),t.element.addEventListener("mouseleave",function(e){t.autoplayPaused=!1,g(t)})),t.options.autoplayOnFocus||(t.element.addEventListener("focusin",function(e){v(t),t.autoplayPaused=!0}),t.element.addEventListener("focusout",function(e){t.autoplayPaused=!1,g(t)}))),t.options.drag&&window.requestAnimationFrame&&(new SwipeContent(t.element),t.element.addEventListener("dragStart",function(e){e.detail.origin&&e.detail.origin.closest(".js-carousel__control")||e.detail.origin&&e.detail.origin.closest(".js-carousel__navigation")||e.detail.origin&&!e.detail.origin.closest(".carousel__wrapper")||(t.element.classList.add("carousel--is-dragging"),v(t),t.dragStart=e.detail.x,R(t))}),t.element.addEventListener("dragging",function(e){if(t.dragStart&&!(t.animating||Math.abs(e.detail.x-t.dragStart)<10)){var i=e.detail.x-t.dragStart+t.translateContainer;t.options.loop||(i=e.detail.x-t.dragStart+t.totTranslate),p(t,"translateX("+i+"px)")}})),window.addEventListener("resize",function(e){v(t),clearTimeout(t.resizeId),t.resizeId=setTimeout(function(){U(t),Z(t),w(t),L(t),g(t),F(t),H(t),E(t)},250)}),t.element.addEventListener("keydown",function(e){e.keyCode&&e.keyCode==39||e.key&&e.key.toLowerCase()=="arrowright"?t.showNext():(e.keyCode&&e.keyCode==37||e.key&&e.key.toLowerCase()=="arrowleft")&&t.showPrev()})}function y(t){t.animating||(t.animating=!0,t.selectedItem=I(t,t.selectedItem-t.visibItemsNb),b(t,"0","prev"))}function h(t){t.animating||(t.animating=!0,t.selectedItem=I(t,t.selectedItem+t.visibItemsNb),b(t,t.translateContainer*2+"px","next"))}function R(t){t.element.addEventListener("dragEnd",function e(i){if(t.element.removeEventListener("dragEnd",e),t.element.classList.remove("carousel--is-dragging"),i.detail.x-t.dragStart<-40)t.animating=!1,h(t);else if(i.detail.x-t.dragStart>40)t.animating=!1,y(t);else{if(i.detail.x-t.dragStart==0)return;t.animating=!0,b(t,t.translateContainer+"px",!1)}t.dragStart=!1})}function b(t,e,i){v(t),t.list.classList.add("carousel__list--animating");var n=t.totTranslate;t.options.loop||(e=j(t,i)),setTimeout(function(){p(t,"translateX("+e+")")}),ot?t.list.addEventListener("transitionend",function s(a){a.propertyName&&a.propertyName!="transform"||(t.list.classList.remove("carousel__list--animating"),t.list.removeEventListener("transitionend",s),T(t,i))}):T(t,i),!t.options.loop&&n==t.totTranslate&&t.list.dispatchEvent(new CustomEvent("transitionend")),w(t),L(t),E(t)}function j(t,e){var i=t.totTranslate;return e=="next"?i=t.totTranslate+t.translateContainer:e=="prev"?i=t.totTranslate-t.translateContainer:e=="click"&&(i=t.selectedDotIndex*t.translateContainer),i>0&&(i=0,t.selectedItem=0),i<-t.translateContainer-t.containerWidth&&(i=-t.translateContainer-t.containerWidth,t.selectedItem=t.items.length-t.visibItemsNb),t.visibItemsNb>t.items.length&&(i=0),t.totTranslate=i,i+"px"}function T(t,e){e&&$(t,e),t.animating=!1,g(t),A(t),nt(t)}function $(t,e){if(t.options.loop){var i=e=="next"?0:t.items.length-t.visibItemsNb;N(t,i,!1),e=="next"?u(t,t.visibItemsNb,0):C(t,t.visibItemsNb),p(t,"translateX("+t.translateContainer+"px)")}}function C(t,e,i){if(t.options.loop){var n=document.createDocumentFragment(),s=0;i&&(s=i);for(var a=s;a<e;a++){var r=I(t,t.selectedItem-a-1),m=t.initItems[r].cloneNode(!0);m.classList.add("js-clone"),n.insertBefore(m,n.firstChild)}t.list.insertBefore(n,t.list.firstChild),k(t)}}function u(t,e,i){if(t.options.loop){for(var n=document.createDocumentFragment(),s=i;s<e+i;s++){var a=I(t,t.selectedItem+t.visibItemsNb+s),r=t.initItems[a].cloneNode(!0);r.classList.add("js-clone"),n.appendChild(r)}t.list.appendChild(n),k(t)}}function N(t,e,i){if(t.options.loop){i||(i=t.visibItemsNb);for(var n=0;n<i;n++)t.items[e]&&t.list.removeChild(t.items[e])}}function U(t){var e=t.visibItemsNb;if(Y(t),x(t),_(t,!1),G(t),t.options.loop)e>t.visibItemsNb?N(t,0,e-t.visibItemsNb):e<t.visibItemsNb&&C(t,t.visibItemsNb,e),W(t);else{var i=j(t);p(t,"translateX("+i+")")}A(t)}function Y(t){rt&&(t.items[0].removeAttribute("style"),t.itemAutoSize=getComputedStyle(t.items[0]).getPropertyValue("width"))}function G(t){for(var e=0;e<t.initItems.length;e++)t.initItems[e].style.width=t.itemsWidth+"px"}function A(t){for(var e=t.items.length>t.visibItemsNb,i=t.items.length,n=0;n<t.items.length;n++)t.options.loop?n<t.visibItemsNb||n>=2*t.visibItemsNb?t.items[n].setAttribute("tabindex","-1"):(n<i&&(i=n),t.items[n].removeAttribute("tabindex")):(n<t.selectedItem||n>=t.selectedItem+t.visibItemsNb)&&e?t.items[n].setAttribute("tabindex","-1"):(n<i&&(i=n),t.items[n].removeAttribute("tabindex"));et(t,i)}function g(t){t.options.autoplay&&!t.autoplayId&&!t.autoplayPaused&&(t.autoplayId=setInterval(function(){h(t)},t.options.autoplayInterval))}function v(t){t.options.autoplay&&(clearInterval(t.autoplayId),t.autoplayId=!1)}function J(t){if(t.options.ariaLive){var e=document.createElement("div");e.setAttribute("class","lst-sr-only js-carousel__aria-live"),e.setAttribute("aria-live","polite"),e.setAttribute("aria-atomic","true"),t.element.appendChild(e),t.ariaLive=e}}function P(t){t.options.ariaLive&&(t.ariaLive.innerHTML="Item "+(t.selectedItem+1)+" selected. "+t.visibItemsNb+" items of "+t.initItems.length+" visible")}function I(t,e){return e<0&&(e=B(e,t.itemsNb)),e>=t.itemsNb&&(e=e%t.itemsNb),e}function B(t,e){return t=t+e,t>0?t:B(t,e)}function p(t,e){t.list.style.transform=e,t.list.style.msTransform=e}function K(t,e){var i=t.listWrapper.closest(".sr-only");return i?(i.classList.remove("lst-sr-only"),e=t.listWrapper.offsetWidth,i.classList.add("lst-sr-only")):isNaN(e)&&(e=O(t.element,t)),e}function O(t,e){var i=t.parentElement;if(i.tagName.toLowerCase()=="html")return 0;var n=window.getComputedStyle(i);if(n.display=="none"||n.visibility=="hidden"){i.setAttribute("style","display: block!important; visibility: visible!important;");var s=e.listWrapper.offsetWidth;return i.style.display="",i.style.visibility="",s}else return O(i,e)}function w(t){if(!t.options.loop){if(t.controls.length>0&&(t.totTranslate==0?t.controls[0].setAttribute("disabled",!0):t.controls[0].removeAttribute("disabled"),t.totTranslate==-t.translateContainer-t.containerWidth||t.items.length<=t.visibItemsNb?t.controls[1].setAttribute("disabled",!0):t.controls[1].removeAttribute("disabled")),t.options.nav){var e=t.navigation.getElementsByClassName(t.options.navigationItemClass+"--selected");e.length>0&&e[0].classList.remove(t.options.navigationItemClass+"--selected");var i=z(t);t.totTranslate==-t.translateContainer-t.containerWidth&&(i=t.navDots.length-1),t.navDots[i].classList.add(t.options.navigationItemClass+"--selected")}t.totTranslate==0&&(t.totTranslate==-t.translateContainer-t.containerWidth||t.items.length<=t.visibItemsNb)?t.element.classList.add("carousel--hide-controls"):t.element.classList.remove("carousel--hide-controls")}}function k(t){t.cloneList=[];for(var e=t.element.querySelectorAll(".js-clone"),i=0;i<e.length;i++)e[i].classList.remove("js-clone"),t.cloneList.push(e[i]);M(t,"carousel-updated",t.cloneList)}function D(t){if(!(t.element.getElementsByClassName("js-carousel__navigation").length>0)){var e=document.createElement("ol"),i="",n=t.options.navigationClass+" js-carousel__navigation";t.items.length<=t.visibItemsNb&&(n=n+" hidden"),e.setAttribute("class",n);for(var s=Math.ceil(t.items.length/t.visibItemsNb),a=z(t),r=t.options.navigationPagination?"":"lst-sr-only",m=0;m<s;m++){var l=m==a?'class="'+t.options.navigationItemClass+" "+t.options.navigationItemClass+'--selected js-carousel__nav-item"':'class="'+t.options.navigationItemClass+' js-carousel__nav-item"';i=i+"<li "+l+'><button class="reset js-tab-focus" style="outline: none;"><span class="'+r+'">'+(m+1)+"</span></button></li>"}e.innerHTML=i,t.element.appendChild(e)}}function V(t){t.navigation=t.element.getElementsByClassName("js-carousel__navigation")[0],t.navDots=t.element.getElementsByClassName("js-carousel__nav-item"),t.navIdEvent=c.bind(t),t.navigation.addEventListener("click",t.navIdEvent)}function Q(t){t.navigation&&t.element.removeChild(t.navigation),t.navIdEvent&&t.navigation.removeEventListener("click",t.navIdEvent)}function Z(t){t.options.nav&&(Q(t),D(t),V(t))}function c(t){var e=t.target.closest(".js-carousel__nav-item");if(e&&!this.animating){this.animating=!0;var i=Array.prototype.indexOf.call(this.navDots,e);this.selectedDotIndex=i,this.selectedItem=i*this.visibItemsNb,b(this,!1,"click")}}function z(t){return Math.ceil(t.selectedItem/t.visibItemsNb)}function tt(t){t.counterTor.length>0&&(t.counterTor[0].textContent=t.itemsNb),L(t)}function L(t){if(t.counter.length!=0){var e=t.selectedItem+t.visibItemsNb;e>t.items.length&&(e=t.items.length),t.counter[0].textContent=e}}function F(t){t.options.justifyContent&&t.list.classList.toggle("justify-center",t.items.length<t.visibItemsNb)}function H(t){if(!(t.controls.length<1||!t.options.alignControls)&&(t.controlsAlignEl||(t.controlsAlignEl=t.element.querySelector(t.options.alignControls)),!!t.controlsAlignEl))for(var e=t.element.offsetHeight-t.controlsAlignEl.offsetHeight,i=0;i<t.controls.length;i++)t.controls[i].style.marginBottom=e+"px"}function E(t){M(t,"carousel-active-items",{firstSelectedItem:t.selectedItem,visibleItemsNb:t.visibItemsNb})}function M(t,e,i){var n=new CustomEvent(e,{detail:i});t.element.dispatchEvent(n)}function et(t,e){if(t.options.overflowItems)for(var i=t.containerWidth/t.items.length,n=(window.innerWidth-i*t.visibItemsNb)/2,s=Math.ceil(n/i),a=0;a<s;a++){var r=e-1-a;r>=0&&t.items[r].removeAttribute("tabindex");var m=e+t.visibItemsNb+a;m<t.items.length&&t.items[m].removeAttribute("tabindex")}}function it(t,e,i){const n=document.createElement("canvas"),s=n.getContext("2d");n.width=t.naturalWidth,n.height=t.naturalHeight,s.drawImage(t,0,0);try{const a=s.getImageData(e,i,1,1).data;return{r:a[0],g:a[1],b:a[2],a:a[3],hex:`#${a[0].toString(16).padStart(2,"0")}${a[1].toString(16).padStart(2,"0")}${a[2].toString(16).padStart(2,"0")}`}}catch(a){return console.error("Error getting image data:",a),null}finally{n.remove()}}function X(t,e){const i=[{x:-5,y:-5},{x:-5,y:0},{x:0,y:-5},{x:5,y:5},{x:0,y:5},{x:5,y:0}],n=e.getBoundingClientRect(),s=t.getBoundingClientRect(),a=i.map(m=>{const l=Math.floor((n.left-s.left+m.x)*(t.naturalWidth/s.width)),f=Math.floor((n.top-s.top+m.y)*(t.naturalHeight/s.height));return it(t,l,f)}).filter(Boolean);return a.length===0?null:a.reduce((m,l)=>m+(l.r*299+l.g*587+l.b*114)/1e3,0)/a.length}function nt(t){if(t.controls.length===0)return;const e=t.selectedItem,i=Math.min(e+t.visibItemsNb-1,t.items.length-1),n=t.controls[0],s=t.controls[1],r=t.items[e].querySelector("img");if(r&&r.complete){const f=X(r,n);f!==null&&(n.style.color=f>128?"#000000":"#ffffff")}const l=t.items[i].querySelector("img");if(l&&l.complete){const f=X(l,s);f!==null&&(s.style.color=f>128?"#000000":"#ffffff")}}var st=function(){var t={},e=!1,i=0,n=arguments.length;Object.prototype.toString.call(arguments[0])==="[object Boolean]"&&(e=arguments[0],i++);for(var s=function(r){for(var m in r)Object.prototype.hasOwnProperty.call(r,m)&&(e&&Object.prototype.toString.call(r[m])==="[object Object]"?t[m]=extend(!0,t[m],r[m]):t[m]=r[m])};i<n;i++){var a=arguments[i];s(a)}return t};d.defaults={element:"",autoplay:!1,autoplayOnHover:!1,autoplayOnFocus:!1,autoplayInterval:5e3,loop:!0,nav:!1,navigationItemClass:"carousel__nav-item",navigationClass:"carousel__navigation",navigationPagination:!1,drag:!1,justifyContent:!1,alignControls:!1,overflowItems:!1},window.Carousel=d;var o=document.getElementsByClassName("js-carousel"),at=CSS.supports("align-items","stretch"),ot=CSS.supports("transition","transform"),rt="CSS"in window&&CSS.supports("color","var(--color-var)");if(o.length>0)for(var S=0;S<o.length;S++)(function(t){var e=!!(o[t].getAttribute("data-autoplay")&&o[t].getAttribute("data-autoplay")=="on"),i=o[t].getAttribute("data-autoplay-interval")?o[t].getAttribute("data-autoplay-interval"):5e3,n=!!(o[t].getAttribute("data-autoplay-hover")&&o[t].getAttribute("data-autoplay-hover")=="on"),s=!!(o[t].getAttribute("data-autoplay-focus")&&o[t].getAttribute("data-autoplay-focus")=="on"),a=!!(o[t].getAttribute("data-drag")&&o[t].getAttribute("data-drag")=="on"),r=!(o[t].getAttribute("data-loop")&&o[t].getAttribute("data-loop")=="off"),m=!!(o[t].getAttribute("data-navigation")&&o[t].getAttribute("data-navigation")=="on"),l=o[t].getAttribute("data-navigation-item-class")?o[t].getAttribute("data-navigation-item-class"):"carousel__nav-item",f=o[t].getAttribute("data-navigation-class")?o[t].getAttribute("data-navigation-class"):"carousel__navigation",mt=!!(o[t].getAttribute("data-navigation-pagination")&&o[t].getAttribute("data-navigation-pagination")=="on"),lt=!!(o[t].getAttribute("data-overflow-items")&&o[t].getAttribute("data-overflow-items")=="on"),ft=o[t].getAttribute("data-align-controls")?o[t].getAttribute("data-align-controls"):!1,dt=!!(o[t].getAttribute("data-justify-content")&&o[t].getAttribute("data-justify-content")=="on");new d({element:o[t],autoplay:e,autoplayOnHover:n,autoplayOnFocus:s,autoplayInterval:i,drag:a,ariaLive:!0,loop:r,nav:m,navigationItemClass:l,navigationPagination:mt,navigationClass:f,overflowItems:lt,justifyContent:dt,alignControls:ft})})(S)})();
